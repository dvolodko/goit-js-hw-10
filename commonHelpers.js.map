{"version":3,"file":"commonHelpers.js","sources":["../src/js/convertMs.js","../src/js/1-timer.js"],"sourcesContent":["export function convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  const formattedDays = formatDate(days);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  const formattedHours = formatDate(hours);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const formattedMinutes = formatDate(minutes);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  const formattedSeconds = formatDate(seconds);\n\n  return {\n    days: formattedDays,\n    hours: formattedHours,\n    minutes: formattedMinutes,\n    seconds: formattedSeconds,\n  };\n}\n\nfunction formatDate(number) {\n  return number.toString().padStart(2, '0');\n}\n","import flatpickr from 'flatpickr';\nimport { Ukrainian } from 'flatpickr/dist/l10n/uk.js';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport { convertMs } from './convertMs';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst datetimePicker = document.getElementById('datetime-picker');\nconst button = document.querySelector('[data-start]');\nconst daysNode = document.querySelector('[data-days]');\nconst hoursNode = document.querySelector('[data-hours]');\nconst minutesNode = document.querySelector('[data-minutes]');\nconst secondsNode = document.querySelector('[data-seconds]');\n\nbutton.addEventListener('click', startButtonHandler);\n\nlet userSelectedDate = '';\n\nconst flatpickrConfig = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    dateValidator(selectedDates);\n  },\n  altInput: true,\n  altFormat: 'F j, Y H:i',\n  locale: Ukrainian,\n};\n\nconst iziToastConfig = {\n  title: 'Error',\n  message: 'Please choose a date in the future',\n  position: 'topRight',\n};\n\nflatpickr(datetimePicker, flatpickrConfig);\n\nfunction dateValidator(selectedDates) {\n  if (Date.now() < selectedDates[0].getTime()) {\n    userSelectedDate = selectedDates[0];\n    button.removeAttribute('disabled');\n  } else {\n    button.setAttribute('disabled', '');\n    iziToast.error(iziToastConfig);\n  }\n}\n\nfunction startButtonHandler() {\n  const userSelectedDateInMs = userSelectedDate.getTime();\n  button.setAttribute('disabled', '');\n  datetimePicker.setAttribute('disabled', '');\n  flatpickr(datetimePicker, flatpickrConfig);\n  const intervalId = setInterval(() => {\n    if (userSelectedDateInMs >= Date.now()) {\n      const { days, hours, minutes, seconds } = convertMs(\n        userSelectedDateInMs - Date.now()\n      );\n      daysNode.textContent = days;\n      hoursNode.textContent = hours;\n      minutesNode.textContent = minutes;\n      secondsNode.textContent = seconds;\n    } else {\n      clearInterval(intervalId);\n      datetimePicker.removeAttribute('disabled');\n      flatpickr(datetimePicker, flatpickrConfig);\n      iziToast.success({\n        title: 'Hooray!!!',\n        message: 'Your time is up!',\n        position: 'center',\n      });\n    }\n  }, 1000);\n}\n"],"names":["convertMs","ms","days","formattedDays","formatDate","hours","formattedHours","minutes","formattedMinutes","seconds","formattedSeconds","number","datetimePicker","button","daysNode","hoursNode","minutesNode","secondsNode","startButtonHandler","userSelectedDate","flatpickrConfig","selectedDates","dateValidator","Ukrainian","iziToastConfig","flatpickr","iziToast","userSelectedDateInMs","intervalId"],"mappings":"sJAAO,SAASA,EAAUC,EAAI,CAQ5B,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAgBC,EAAWF,CAAI,EAE/BG,EAAQ,KAAK,MAAOJ,EAAK,MAAO,IAAI,EACpCK,EAAiBF,EAAWC,CAAK,EAEjCE,EAAU,KAAK,MAAQN,EAAK,MAAO,KAAQ,GAAM,EACjDO,EAAmBJ,EAAWG,CAAO,EAErCE,EAAU,KAAK,MAASR,EAAK,MAAO,KAAQ,IAAU,GAAM,EAC5DS,EAAmBN,EAAWK,CAAO,EAE3C,MAAO,CACL,KAAMN,EACN,MAAOG,EACP,QAASE,EACT,QAASE,CACb,CACA,CAEA,SAASN,EAAWO,EAAQ,CAC1B,OAAOA,EAAO,SAAU,EAAC,SAAS,EAAG,GAAG,CAC1C,CCtBA,MAAMC,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3DJ,EAAO,iBAAiB,QAASK,CAAkB,EAEnD,IAAIC,EAAmB,GAEvB,MAAMC,EAAkB,CACtB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrBC,EAAcD,CAAa,CAC5B,EACD,SAAU,GACV,UAAW,aACX,OAAQE,EAAS,SACnB,EAEMC,EAAiB,CACrB,MAAO,QACP,QAAS,qCACT,SAAU,UACZ,EAEAC,EAAUb,EAAgBQ,CAAe,EAEzC,SAASE,EAAcD,EAAe,CAChC,KAAK,IAAK,EAAGA,EAAc,CAAC,EAAE,WAChCF,EAAmBE,EAAc,CAAC,EAClCR,EAAO,gBAAgB,UAAU,IAEjCA,EAAO,aAAa,WAAY,EAAE,EAClCa,EAAS,MAAMF,CAAc,EAEjC,CAEA,SAASN,GAAqB,CAC5B,MAAMS,EAAuBR,EAAiB,UAC9CN,EAAO,aAAa,WAAY,EAAE,EAClCD,EAAe,aAAa,WAAY,EAAE,EAC1Ca,EAAUb,EAAgBQ,CAAe,EACzC,MAAMQ,EAAa,YAAY,IAAM,CACnC,GAAID,GAAwB,KAAK,MAAO,CACtC,KAAM,CAAE,KAAAzB,EAAM,MAAAG,EAAO,QAAAE,EAAS,QAAAE,CAAS,EAAGT,EACxC2B,EAAuB,KAAK,IAAK,CACzC,EACMb,EAAS,YAAcZ,EACvBa,EAAU,YAAcV,EACxBW,EAAY,YAAcT,EAC1BU,EAAY,YAAcR,CAChC,MACM,cAAcmB,CAAU,EACxBhB,EAAe,gBAAgB,UAAU,EACzCa,EAAUb,EAAgBQ,CAAe,EACzCM,EAAS,QAAQ,CACf,MAAO,YACP,QAAS,mBACT,SAAU,QAClB,CAAO,CAEJ,EAAE,GAAI,CACT"}